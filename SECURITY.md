# Security Policy

## Supported Versions

| Version | Supported          |
| ------- | ------------------ |
| 1.x.x   | :white_check_mark: |
| < 1.0   | :x:                |

## Reporting a Vulnerability

我们非常重视安全问题。如果你发现了安全漏洞，请按以下步骤报告：

### 报告流程

1. **不要** 在公开的 Issue 中报告安全漏洞
2. 发送邮件至 [security@example.com]（请替换为实际邮箱）
3. 在邮件中包含以下信息：
   - 漏洞的详细描述
   - 复现步骤
   - 潜在影响
   - 可能的修复建议（如有）

### 响应时间

- 我们会在 **48 小时** 内确认收到报告
- 我们会在 **7 天** 内提供初步评估
- 我们会在 **30 天** 内发布修复（视漏洞严重程度）

### 披露政策

- 我们遵循负责任的披露原则
- 在修复发布前，请不要公开披露漏洞详情
- 修复发布后，我们会在 CHANGELOG 和 Release Notes 中致谢报告者

## 安全最佳实践

### 部署建议

1. **JWT 密钥**
   - 生产环境必须使用强随机密钥
   - 定期轮换密钥
   - 不要在代码或版本控制中存储密钥

2. **数据库**
   - 使用强密码
   - 限制网络访问
   - 定期备份

3. **HTTPS**
   - 生产环境必须启用 HTTPS
   - 使用有效的 TLS 证书

4. **环境变量**
   - 敏感配置通过环境变量传递
   - 不要提交 `.env` 文件到版本控制

### 已知安全考虑

1. **WebSocket 认证**
   - 开发环境支持 URL 参数传递 token（方便调试）
   - 生产环境建议仅使用 Authorization 头

2. **输入验证**
   - 所有用户输入都经过验证和清理
   - 消息内容有长度限制

3. **速率限制**
   - API 端点有速率限制保护
   - WebSocket 连接有消息频率限制

## 安全更新

安全更新会通过以下渠道发布：

- GitHub Releases
- CHANGELOG.md
- 安全公告（严重漏洞）

建议订阅 Release 通知以及时获取安全更新。
